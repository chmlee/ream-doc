<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>REAM</title>

  <link rel="stylesheet" type="text/css" href="https:&#x2F;&#x2F;ream-lang.org&#x2F;style.css">

  <script type="module" src="https:&#x2F;&#x2F;ream-lang.org&#x2F;js&#x2F;bundle.js"></script>
  <script>
    function auto_grow(element) {
      element.style.height = "5px";
      element.style.height = (element.scrollHeight)+"px";
    };
  </script>

</head>

<body>
  <div class="base-container">

    

  


<nav class="navbar">
  <div id="brand">
    <a href="/">REAM</a>
  </div>
  <ul class="nav-list">
  
    
    
      <li class="nav-item ">
        <a href="&#x2F;overview&#x2F;">
          Overview
        </a>
      </li>
  
    
    
      <li class="nav-item nav-item-active">
        <a href="&#x2F;tutorial&#x2F;">
          Tutorial
        </a>
      </li>
  
    
    
      <li class="nav-item ">
        <a href="&#x2F;toolchain&#x2F;">
          Toolchain
        </a>
      </li>
  
    
    
      <li class="nav-item ">
        <a href="&#x2F;contribution&#x2F;">
          Contribution
        </a>
      </li>
  
  </ul>
</nav>


    

    <div class="content-container">
      


<div class="page-sidebar">

    <ul class="sidebar">
        
        
        
        

            

                <li class="sidebar-item">
                    <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;getting-started&#x2F;">Getting Started</a></li>
                </li>

            

        

            
                
                    
                

                <li class="sidebar-item sidebar-item-focus">

                    <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;variable&#x2F;">Variable</a>

                    <ul class="header-container">
                        
    
      <li class="header-item header-level-3">
        <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;variable&#x2F;#key">Key</a>
        
      </li>
    
      <li class="header-item header-level-3">
        <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;variable&#x2F;#value">Value</a>
        
          
          <ul class="header-container">
            
    
      <li class="header-item header-level-3">
        <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;variable&#x2F;#string">String</a>
        
      </li>
    
      <li class="header-item header-level-3">
        <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;variable&#x2F;#number">Number</a>
        
      </li>
    
      <li class="header-item header-level-3">
        <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;variable&#x2F;#boolean">Boolean</a>
        
      </li>
    

          </ul>
        
      </li>
    

                    </ul>

                </li>

            

        

            

                <li class="sidebar-item">
                    <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;list&#x2F;">List</a></li>
                </li>

            

        

            

                <li class="sidebar-item">
                    <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;annotation&#x2F;">Annotation</a></li>
                </li>

            

        

            

                <li class="sidebar-item">
                    <a href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;entry&#x2F;">Entry</a></li>
                </li>

            

        
    </ul>

    <div class="main">
        <h1 class="title">
          Variable
        </h1>
        <p class="subtitle"><strong></strong></p>

        <p><code>&lt;variable&gt;</code> assigns a <code>&lt;value&gt;</code> to a <code>&lt;key&gt;</code>, in the form of</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#5cb3fa;">- &lt;key&gt;: &lt;value&gt;
</span></code></pre>
<p>Note that a space is required after the dash and colon.</p>
<h2 id="key">Key</h2>
<p><code>&lt;key&gt;</code> can't be empty.
It may contain any upper and lowercase letters (<code>A-Za-z</code>), digits (<code>0-9</code>), spaces (<code>U+0020</code>), and underscores (<code>_</code>), but can't start with a digit.
Key names are case sensitive.</p>
<p>Some examples for valid key names are:</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#abb2bf;"># </span><span style="color:#eb6772;">Example
</span><span style="color:#5cb3fa;">- key: </span><span style="color:#9acc76;">value
</span><span style="color:#5cb3fa;">- KEY: </span><span style="color:#9acc76;">value
</span><span style="color:#5cb3fa;">- key_1: </span><span style="color:#9acc76;">value
</span><span style="color:#5cb3fa;">- key with spaces: </span><span style="color:#9acc76;">value
</span><span style="color:#5cb3fa;">- key_with_underscore: </span><span style="color:#9acc76;">value
</span><span style="color:#5cb3fa;">- _: </span><span style="color:#9acc76;">value
</span></code></pre><div class="editor">
  <!-- <div id="key-code"> -->
  <!--   <h1 id="example">Example</h1>
<ul>
<li>key: value</li>
<li>KEY: value</li>
<li>key_1: value</li>
<li>key with spaces: value</li>
<li>key_with_underscore: value</li>
</ul>
 -->
  <!-- </div> -->
  <div class="input-output-container">
    <div class="input-container">
      <textarea class="input" oninput="auto_grow(this)" id="key-input" wrap="off"># Example
- key: value
- KEY: value
- key_1: value
- key with spaces: value
- key_with_underscore: value</textarea>
    </div>
    <div id="key-output" class="output" style="monospace">(compile output)</div>
  </div>
  <button class="update-button" id="key">Compile</button>
</div>
<div class="box tip">
  <div class="box-heading">
    
      TIP
    
  </div>
  <p>Don't worry about what <code># Example</code> is.
For now just see this as the title for your REAM file, and all REAM files starts with a title.
We'll discuss what it is in detail in <a href="entry">Entry</a> section.</p>

</div>
<p>Key name can't be empty:</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#abb2bf;"># </span><span style="color:#eb6772;">BadExample
</span><span style="color:#5cb3fa;">- : </span><span style="color:#9acc76;">value
</span></code></pre><div class="editor">
  <!-- <div id="key-empty-code"> -->
  <!--   <h1 id="badexample">BadExample</h1>
<ul>
<li>: value</li>
</ul>
 -->
  <!-- </div> -->
  <div class="input-output-container">
    <div class="input-container">
      <textarea class="input" oninput="auto_grow(this)" id="key-empty-input" wrap="off"># BadExample
- : value</textarea>
    </div>
    <div id="key-empty-output" class="output" style="monospace">(compile output)</div>
  </div>
  <button class="update-button" id="key-empty">Compile</button>
</div>
<p>Key name can't start with a digit:</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#abb2bf;"># </span><span style="color:#eb6772;">BadExample
</span><span style="color:#5cb3fa;">- 1: </span><span style="color:#9acc76;">value
</span><span style="color:#5cb3fa;">- 1key: </span><span style="color:#9acc76;">value
</span></code></pre><div class="editor">
  <!-- <div id="key-digit-code"> -->
  <!--   <h1 id="badexample">BadExample</h1>
<ul>
<li>1: value</li>
<li>1key: value</li>
</ul>
 -->
  <!-- </div> -->
  <div class="input-output-container">
    <div class="input-container">
      <textarea class="input" oninput="auto_grow(this)" id="key-digit-input" wrap="off"># BadExample
- 1: value
- 1key: value</textarea>
    </div>
    <div id="key-digit-output" class="output" style="monospace">(compile output)</div>
  </div>
  <button class="update-button" id="key-digit">Compile</button>
</div>
<div class="box note">
  <div class="box-heading">
    
      NOTE
    
  </div>
  <p>The current parser doesn't check for identifer names yet.</p>

</div>
<!--
::: details Note: UTF-8 support
Key names should support UTF-8.
The [current parser](https://github.com/chmlee/reamparser.js) *should* be able to parse UTF-8 identifiers correctly, but this hasn't been tested extensively.
It is recommended that you use only ASCII code before UTF-8 support is stable.

[The experimental parser](https://github.com/chmlee/ream-core) does NOT support UTF-8 yet.

:::
::: details Note: Whitespace in identifiers

The [current parser](https://github.com/chmlee/reamparser.js) allows whitespaces in identifiers, but future versions may remove such support.
I plan to implement [reference](/ream-doc/Language/Advanced/Reference), and identifiers with spaces just don't look good in the current design.

```ream
# Entry
- key_1 (str): value

## SubEntry
- key_2 (fn -> str): `THIS::SUPER$key_1`
```

vs

(R style)
```ream
# Entry
- key 1 (str): value

## SubEntry
- key 2 (fn -> str): `THIS::SUPER$"key 1"`
```

or

(Python/Pandas style)
```ream
# Entry
- key 1 (str): value

## SubEntry
- key 2 (fn -> str): `THIS::SUPER["key 1"]`
```


:::
-->
<h2 id="value">Value</h2>
<p><code>&lt;value&gt;</code> can be any of the following primitive types:</p>
<ul>
<li><a href="https://ream-lang.org/tutorial/variable/#string">String</a></li>
<li><a href="https://ream-lang.org/tutorial/variable/#number">Number</a></li>
<li><a href="https://ream-lang.org/tutorial/variable/#boolean">Boolean</a></li>
</ul>
<p>Value can't be empty.</p>
<h3 id="string">String</h3>
<p>Example:</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#abb2bf;"># </span><span style="color:#eb6772;">Example
</span><span style="color:#5cb3fa;">- string: </span><span style="color:#9acc76;">value
</span><span style="color:#5cb3fa;">- long string: Hello </span><span style="color:#9acc76;">World
</span><span style="color:#5cb3fa;">- quoted string: &quot;quote&quot;
</span></code></pre><div class="editor">
  <!-- <div id="string-code"> -->
  <!--   <h1 id="example">Example</h1>
<ul>
<li>string: value</li>
<li>long string: Hello World</li>
<li>quoted string: &quot;quote&quot;</li>
</ul>
 -->
  <!-- </div> -->
  <div class="input-output-container">
    <div class="input-container">
      <textarea class="input" oninput="auto_grow(this)" id="string-input" wrap="off"># Example
- string: value
- long string: Hello World
- quoted string: &quot;quote&quot;</textarea>
    </div>
    <div id="string-output" class="output" style="monospace">(compile output)</div>
  </div>
  <button class="update-button" id="string">Compile</button>
</div>
<p>There is not need to quote strings.
Quotation marks will be preserved.</p>
<p>Values can't contain line breaks.
The following will raise an error:</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#abb2bf;"># </span><span style="color:#eb6772;">BadExample
</span><span style="color:#5cb3fa;">- key 1: first </span><span style="color:#9acc76;">line
</span><span style="color:#abb2bf;">         second line
</span><span style="color:#5cb3fa;">- key 2: </span><span style="color:#9acc76;">value
</span></code></pre><div class="editor">
  <!-- <div id="string-line-break-code"> -->
  <!--   <h1 id="badexample">BadExample</h1>
<ul>
<li>key 1: first line
second line</li>
<li>key 2: value</li>
</ul>
 -->
  <!-- </div> -->
  <div class="input-output-container">
    <div class="input-container">
      <textarea class="input" oninput="auto_grow(this)" id="string-line-break-input" wrap="off"># BadExample
- key 1: first line
         second line
- key 2: value</textarea>
    </div>
    <div id="string-line-break-output" class="output" style="monospace">(compile output)</div>
  </div>
  <button class="update-button" id="string-line-break">Compile</button>
</div>
<div class="box note">
  <div class="box-heading">
    
      NOTE
    
  </div>
  <p>The <a href="https://github.com/chmlee/reamparser.js">current parser</a> is able to parse the example.
It will read everything before and including <code>- key 1: first line</code>, then stop parsing and return whatever has been parsed, ignoring the rest of the file.</p>
<p>Ideally the parser should panic, and an error with meaningful messages should be raised.
Error handling will be improved in future versions.</p>

</div>
<p>REAM stores strings as raw literal strings, hence the following example is valid. <code>\n</code> will not be escaped, and is equivalent to <code>\\n</code> in JSON.</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#abb2bf;"># </span><span style="color:#eb6772;">Example
</span><span style="color:#5cb3fa;">- key 1: first line\nsecond </span><span style="color:#9acc76;">line
</span><span style="color:#5cb3fa;">- key 2: </span><span style="color:#9acc76;">value
</span></code></pre><div class="editor">
  <!-- <div id="string-no-escpae-code"> -->
  <!--   <h1 id="example">Example</h1>
<ul>
<li>key 1: first line\nsecond line</li>
<li>key 2: value</li>
</ul>
 -->
  <!-- </div> -->
  <div class="input-output-container">
    <div class="input-container">
      <textarea class="input" oninput="auto_grow(this)" id="string-no-escpae-input" wrap="off"># Example
- key 1: first line\nsecond line
- key 2: value</textarea>
    </div>
    <div id="string-no-escpae-output" class="output" style="monospace">(compile output)</div>
  </div>
  <button class="update-button" id="string-no-escpae">Compile</button>
</div>
<h3 id="number">Number</h3>
<p>Numbers are wrapped by dollar signs (<code>$</code>).</p>
<p>Example:</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#abb2bf;"># </span><span style="color:#eb6772;">Example
</span><span style="color:#5cb3fa;">- number 1: $</span><span style="color:#db9d63;">1</span><span style="color:#5cb3fa;">$
- number 2: $</span><span style="color:#db9d63;">-2</span><span style="color:#5cb3fa;">$
- number 3: $</span><span style="color:#db9d63;">3.1415926</span><span style="color:#5cb3fa;">$
</span></code></pre><div class="editor">
  <!-- <div id="number-code"> -->
  <!--   <h1 id="example">Example</h1>
<ul>
<li>number 1: $1$</li>
<li>number 2: $-2$</li>
<li>number 3: $3.1415926$</li>
</ul>
 -->
  <!-- </div> -->
  <div class="input-output-container">
    <div class="input-container">
      <textarea class="input" oninput="auto_grow(this)" id="number-input" wrap="off"># Example
- number 1: $1$
- number 2: $-2$
- number 3: $3.1415926$</textarea>
    </div>
    <div id="number-output" class="output" style="monospace">(compile output)</div>
  </div>
  <button class="update-button" id="number">Compile</button>
</div>
<!--
::: details Note: Potential Breaking Change for Syntax
I'm considering removing the `$` requirement for numbers, and have a more YAML-like syntax for number.
:::
-->
<p>If a leading or trailing character exist, the entire value would be interpreted as a string.</p>
<p>Example:</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#abb2bf;"># </span><span style="color:#eb6772;">Example
</span><span style="color:#5cb3fa;">- number: $</span><span style="color:#db9d63;">1</span><span style="color:#5cb3fa;">$
- not number 1: a$</span><span style="color:#db9d63;">1</span><span style="color:#5cb3fa;">$
- not number 2: $</span><span style="color:#db9d63;">1</span><span style="color:#5cb3fa;">$</span><span style="color:#9acc76;">b
</span></code></pre><div class="editor">
  <!-- <div id="number-error-code"> -->
  <!--   <h1 id="example">Example</h1>
<ul>
<li>number: $1$</li>
<li>not number 1: a$1$</li>
<li>not number 2: $1$b</li>
</ul>
 -->
  <!-- </div> -->
  <div class="input-output-container">
    <div class="input-container">
      <textarea class="input" oninput="auto_grow(this)" id="number-error-input" wrap="off"># Example
- number: $1$
- not number 1: a$1$
- not number 2: $1$b</textarea>
    </div>
    <div id="number-error-output" class="output" style="monospace">(compile output)</div>
  </div>
  <button class="update-button" id="number-error">Compile</button>
</div>
<!--
::: details Note: No Floats or Integers

Should REAM add integers and floats as primitive types?

Most programming languages and data serialization standards have clear specifications for primitive number types, such as [IEEE 754](https://en.wikipedia.org/wiki/IEEE_754) .

REAM's `Number` type doesn't really have one right now, and all `Number` values are stored as strings.
You can verify this by visiting the [online editor](https://chmlee.github.io/ream-editor/) and select `tree` as the output format.

In fact the current parser considers all values wrapper by `$` as `Number`.
So
```ream
# Example
- number: $1$
- not a number: $abc$
```
generates
```csv
1,abc
```
instead of
```csv
1,$abc$
```
even though `abc` is not a valid number.

I might adopt [ECMA's specification](https://www.ecma-international.org/wp-content/uploads/ECMA-404_2nd_edition_december_2017.pdf), or part of it (do social scientists normally store data with scientific notation?):

> A number is a sequence of decimal digits with no superfluous leading zero.
> It may have a preceding minus sign (U+002D).
> It may have a fractional part prefixed by a decimal point (U+002E).
> It may have an exponent, prefixed by `e`(U+0065) or `E`(U+0045) and optionally `+`(U+002B) or `-`(U+002D).
> The digits are the code points U+0030 through U+0039. Numeric values that cannot be represented as sequences of digits (such as `Infinity `and `NaN`) are not permitted.

Another reason against the use of an explicit `float` type in REAM is to avoid the pitfalls of floating-point accuracy.
Since REAM is designed to store social science data, and will eventually be compiled to an analysis-ready format and imported into another programme for further data analysis, lose of accuracy is bound to happen somewhere.[1]
What we can do is reduce the number of type conversion.
The plan is to have numbers saved as strings when compiling JSON and CSV, and let individual JSON and CSV parsers deal with the conversion.

```
           (no type conversion)       (conversion happens here)
               REAM parser          CSV/JSON Reader in Language X
Number("3.14")  "3.14"    3.14
   REAM                    CSV/JSON                               Language X
```
For example, in Python, `pandas.read_csv()` converts applicable strings to `int64` and `float64` by default, and allow users to specify types through `dtype` argument.
In R, `readr::read_csv` also converts applicable strings to `double` by default, and can be overrode by specifying the `col_types` argument.

Just rely on these scientific packages for type conversion.
This is what they are designed to do, so I assume they are better at handling such problem.

[1]: for example, try reading the following JSON file in Python and R and compare the result:
```json
{"number": 0.19999999999999999}
```
```python
import json

with open("./test.json", "r") as f:
    dat = json.load(f)

print(dat["number"]) # 0.19999999999999998
```
```r
library(rjson)
dat <- fromJSON(file = "./test.json")
dat["number"]

# $number
# [1] 0.2
```


Unless...

With projects like [PyO3](https://github.com/PyO3/PyO3) and [extendr](https://github.com/extendr/extendr), it might be possible to wrap the parser into a Python/R module and interact with `pandas` and `tibble` directly.
Instead of:
```
          REAM parser     pandas.read_csv()
REAM file  CSV  Pandas.dataframe
```
we may be able to do:
```
          ream.read_ream()
REAM file  Pandas.dataframe
```
by
```python
import pandas as pd
import ream

with open("data.ream", "r") as f:
    df = ream.load(f)

print(type(df)) # <class 'pandas.core.frame.DataFrame'>
```

Wouldn't this be wonderful?

If so, REAM probably need explicit float and integer types to make interacting with Pandas and Tibbles types surprise-free.
See [typed variable](/ream-doc/Language/Advanced/Typed-Variable) for more information.
:::
-->
<h3 id="boolean">Boolean</h3>
<p>Boolean values are <code>`TRUE`</code> and <code>`FALSE`</code>, both uppercase and surrounded by backticks (<code>`</code>).</p>
<p>Example:</p>
<pre style="background-color:#2b303b;">
<code class="language-ream" data-lang="ream"><span style="color:#abb2bf;"># </span><span style="color:#eb6772;">Example
</span><span style="color:#5cb3fa;">- bool 1: `</span><span style="color:#cd74e8;">TRUE</span><span style="color:#5cb3fa;">`
- bool 2: `</span><span style="color:#cd74e8;">FALSE</span><span style="color:#5cb3fa;">`
- not bool 1: `true`
- not bool 2: </span><span style="color:#9acc76;">FALSE
</span></code></pre>
<p>Note that boolean values must be exact matches.
Values not wrapped by backticks or not uppercased will be stored as strings.</p>
<div class="editor">
  <!-- <div id="bool-code"> -->
  <!--   <h1 id="example">Example</h1>
<ul>
<li>bool 1: <code>TRUE</code></li>
<li>bool 2: <code>FALSE</code></li>
<li>not bool 1: <code>true</code></li>
<li>not bool 2: FALSE</li>
</ul>
 -->
  <!-- </div> -->
  <div class="input-output-container">
    <div class="input-container">
      <textarea class="input" oninput="auto_grow(this)" id="bool-input" wrap="off"># Example
- bool 1: `TRUE`
- bool 2: `FALSE`
- not bool 1: `true`
- not bool 2: FALSE</textarea>
    </div>
    <div id="bool-output" class="output" style="monospace">(compile output)</div>
  </div>
  <button class="update-button" id="bool">Compile</button>
</div>


        <div class="nav-row">
            <div class="nav-box nav-previous">
                
                    Previous:
                    <a class="next" href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;getting-started&#x2F;">
                        Getting Started
                    </a>
                
            </div>

            <div class="nav-box nav-next">
                
                    Next:
                    <a class="next" href="https:&#x2F;&#x2F;ream-lang.org&#x2F;tutorial&#x2F;list&#x2F;">
                        List
                    </a>
                
            </div>

        </div>
    </div>


</div>


    </div>

  </div>

  <script>
    document.querySelectorAll(".input").forEach(textarea => {
      //let input_array = textarea.value.split('\n');
      //input_array.shift();
      //input_array.pop();
      //const input = input_array.join("\n");
      //textarea.value = input;
      auto_grow(textarea)
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>
</body>

</html>
